<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet" />
    <title>Interview Test - Accessible Form Handling & Validation</title>
</head>
<body>
    <div class="wrapper u-p-block--l">
        <main class="stack stack--gutter-xl">
            <h1>Kevin Bonett: Interview Test</h1>

            <form
                class="form"
                action="#"
                data-module="form-validate"
                data-action="process-users"
            >
                <h2 class="u-m-block--0">Please enter your details</h2>

                <div class="form__field">
                    <label for="name" class="label">
                        Name
                    </label>
                    <input
                        type="text"
                        id="name"
                        name="name"
                        class="input"
                        autocomplete="name"
                        required
                    />
                </div>

                <div class="form__field">
                    <label for="email" class="label">
                        Email
                    </label>
                    <input
                        type="email"
                        id="email"
                        name="email"
                        class="input"
                        autocomplete="email"
                        required
                    />
                </div>

                <div class="form__field">
                    <fieldset class="fieldset">
                        <legend class="legend">Date of birth</legend>
                        <div class="flex flex--grow-all">
                            <div class="form__field">
                                <label for="dob-day" class="label">
                                    Day
                                </label>
                                <select
                                    class="select"
                                    id="dob-day"
                                    name="dob-day"
                                    required
                                >
                                    <option value="">Please choose...</option>
                                    <option value="1">1</option>
                                    <option value="2">2</option>
                                    <option value="3">3</option>
                                    <option value="4">4</option>
                                    <option value="5">5</option>
                                    <option value="6">6</option>
                                    <option value="7">7</option>
                                    <option value="8">8</option>
                                    <option value="9">9</option>
                                    <option value="10">10</option>
                                    <option value="11">11</option>
                                    <option value="12">12</option>
                                    <option value="13">13</option>
                                    <option value="14">14</option>
                                    <option value="15">15</option>
                                    <option value="16">16</option>
                                    <option value="17">17</option>
                                    <option value="18">18</option>
                                    <option value="19">19</option>
                                    <option value="20">20</option>
                                    <option value="21">21</option>
                                    <option value="22">22</option>
                                    <option value="23">23</option>
                                    <option value="24">24</option>
                                    <option value="25">25</option>
                                    <option value="26">26</option>
                                    <option value="27">27</option>
                                    <option value="28">28</option>
                                    <option value="29">29</option>
                                    <option value="30">30</option>
                                    <option value="31">31</option>
                                </select>
                            </div>
                            <div class="form__field">
                                <label for="dob-month" class="label">
                                    Month
                                </label>
                                <select
                                    class="select"
                                    id="dob-month"
                                    name="dob-month"
                                    required
                                >
                                    <option value="">Please choose...</option>
                                    <option value="January">January</option>
                                    <option value="February">February</option>
                                    <option value="March">March</option>
                                    <option value="April">April</option>
                                    <option value="May">May</option>
                                    <option value="June">June</option>
                                    <option value="July">July</option>
                                    <option value="August">August</option>
                                    <option value="September">September</option>
                                    <option value="October">October</option>
                                    <option value="November">November</option>
                                    <option value="December">December</option>
                                </select>
                            </div>
                            <div class="form__field">
                                <label for="dob-year" class="label">
                                    Year
                                </label>
                                <input
                                    type="number"
                                    id="dob-year"
                                    name="dob-year"
                                    class="input"
                                    min="1900"
                                    step="1"
                                    autocomplete="bday-year"
                                    required
                                />
                            </div>
                        </div>
                    </fieldset>
                </div>

                <div class="form__field">
                    <label for="phone" class="label">
                        Phone number
                        <span class="label__subtext">UK number, between 9 and 13 digits, can include spaces</span>
                    </label>
                    <input
                        type="tel"
                        id="phone"
                        name="phone"
                        class="input"
                        pattern="^\d{3,5}\s?\d{3,4}\s?\d{3,4}$"
                        autocomplete="tel"
                        required
                    />
                </div>

                <div class="button-group">
                    <button
                        type="submit"
                        class="button button--text button--positive"
                    >
                        Add user
                    </button>
                    <button
                        type="reset"
                        class="button button--text"
                    >
                        Reset
                    </button>
                </div>
            </form>

            <section>
                <h2>Saved details</h2>
                <div
                    class="sr-only"
                    role="alert"
                    data-alert="process-users"
                >
                </div>

                <div
                    class="table-wrapper"
                    role="region"
                    tabindex="0"
                >
                    <table class="table">
                        <caption class="sr-only">Saved details</caption>
                        <thead>
                            <tr>
                                <th scope="col">Name</th>
                                <th scope="col">Email</th>
                                <th scope="col">Date of birth</th>
                                <th scope="col">Phone</th>
                                <th scope="col">Action</th>
                            </tr>
                        </thead>
                        <tbody data-target="process-users"></tbody>
                    </table>
            </section>

            <hr>

            <div class="stack wysiwyg">
                <h2>Some notes on implementation details</h2>

                <ul>
                    <li><a href="https://parceljs.org/">Parcel</a> has been used to bundle the CSS / JS.</li>
                    <li>HTML / CSS / TypeScript architecture and methodologies have been implemented as per my own <a href="https://basher.github.io/Web-UI-Boilerplate/">UI boilerplate / Storybook component library</a>.</li>
                    <li>Code linters and a Git pre-commit hook have been configured.</li>
                    <li>Safari 12+ support has been implemented via a Browserslist config in "package.json".</li>
                </ul>

                <h3>Functional behaviour</h3>
                <ul>
                    <li>Functionality has been tested in Firefox / Chrome / Edge on Windows 10.</li>
                    <li>The form validation works progressively (i.e. native HTML validation occurs if JS is disabled).</li>
                    <li>As there is no back-end or API to work with, the user data has not been persisted (e.g. with local storage) on page reload.</li>
                </ul>

                <h4>Safari 12 testing</h4>
                <ul>
                    <li>Unfortunately, Safari 12 could not be fully tested using trial versions of the BrowserStackLocal desktop app, or LambdaTest tunnel for localhost websites.</li>
                    <li>Either access to localhost could not be established at all, or the trial expired or timed out before testing was completed.</li>
                    <li>I was able to confirm that the form validation worked, but nothing more.</li>
                    <li>NOTE: The JS / CSS APIs that I've used have either been polyfilled (e.g. "postcss-clamp", "postcss-logical", flexbox "gap"), or are fully supported already.</li>
                </ul>

                <h3>Accessibility considerations</h3>
                <ul>
                    <li>The page has been tested using a keyboard, NVDA screen reader, AxeCore & WAVE browser plugins.</li>
                    <li>The HTML has been validated.</li>
                    <li>A visually hidden "aria-live" region has been added for the add/remove users functionality to confirm the actions have succeeded.</li>
                    <li>The table is inside a keyboard supported scrollable region if the viewport is too narrow.</li>
                    <li>Dark mode has been implemented.</li>
                </ul>

                <h3>Responsive behaviour</h3>
                <ul>
                    <li>Fluid typography and spacing has been implemented, leveraging the CSS "clamp()" function.</li>
                    <li>The table is scrollable if the viewport is too narrow.</li>
                </ul>
            </div>
        </main>
    </div>

    <script defer type="module" src="./src/javascript/index.ts"></script>
</body>
</html>
